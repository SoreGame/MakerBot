import vk_api
from vk_api.longpoll import VkLongPoll, VkEventType
import random

token="048e9cb9ad3f8ef871a788fb1e91a34b8c4ca9bb089e25d3b9d392256adaac591fb554a489a78c5b8b5d0"

vk=vk_api.VkApi(token=token)

longpoll = VkLongPoll(vk)

random_id = 0

def Number():
    write_msg(event.user_id, "Введите номер своего счетчика", random_id)
    global oldAnswer
    oldAnswer = 1

def Pass():
    write_msg(event.user_id, "Введите пароль", random_id)
    global oldAnswer
    oldAnswer = 2

def Need():
    write_msg(event.user_id, "Что вам необходимо? \n 1) Текущие задания \n 2) Колличество токенов на вашем счету")
    global oldAnswer
    oldAnswer = 3

def TZ():
    global potreb
    write_msg(event.user_id, "Уменьшите потребление электроэнергии на ", potreb, random_id)
    global oldAnswer
    oldAnswer = 4

def Money():
    global Token
    write_msg(event.user_id, "Ваш счет = ", token, random_id)
    global oldAnswer
    oldAnswer = 5

def write_msg(user_id, message, random_id):
    vk.method('messages.send', {'user_id': user_id, 'message': message, "random_id":random_id})

for event in longpoll.listen():
    if event.type == VkEventType.MESSAGE_NEW:
        if event.to_me:
            request = event.text
            print(request)
            random_id+=1
            if (request == "+"):
                print(event.user_id)
                oldAnswer = 0
                Number()
                if (request == "0001") and (oldAnswer == 0):
                    Pass()
                    if (request == "q1w2") and (oldAnswer == 1):


                else: Number()
